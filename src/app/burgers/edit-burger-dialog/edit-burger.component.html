<h2 *ngIf="createMode" mat-dialog-title class="font-bold">Create Order</h2>
<h2 *ngIf="editMode" mat-dialog-title class="font-bold">Edit Order</h2>

<mat-dialog-content>
    <ng-container *ngIf="ingredientsForm">
        <div class="spinner-container" *ngIf="loading$ | async">
            <mat-spinner></mat-spinner>
        </div>
        <h3>Order Status</h3>
        <div class="flex items-center mb-6">
            <div class="rounded-full h-3 bg-gray-300 w-2/3">
                <div [style.width.%]="orderStatusScore" class="bg-green-600 h-3 max-w-full rounded-full">
                    <span></span>
                </div>
            </div>
            <div class="ml-5">
                <span>{{ orderStatusScore * (10 / 1000) | percent }}</span>
            </div>
        </div>
        <ng-container [formGroup]="ingredientsForm">
            <mat-tab-group>
                <mat-tab label="Bun" class="flex flex-col items-center">
                    <ng-container>
                        <div class="space-y-3">
                            <mat-radio-group formControlName="bread" class="flex flex-col mt-5">
                                <mat-radio-button *ngFor="let element of ingredients?.Bun; let i = index" [value]="element" (change)="onRadioChange($event)" [checked]="ingredients.Bun[i].name == selectedBread">
                                    <div class="flex">
                                        <div class="image-container">
                                            <img class="w-2/3" src="{{ element.icon }}" />
                                        </div>
                                        <div class="flex flex-col">
                                            <div>
                                                <span class="text-md">{{ element.name }}</span>
                                            </div>
                                            <div>
                                                <span class="text-sm">{{ element.price }}€</span>
                                            </div>
                                        </div>
                                    </div>
                                </mat-radio-button>
                            </mat-radio-group>
                        </div>
                    </ng-container>
                </mat-tab>
                <mat-tab label="Cheese">
                    <ng-container>
                        <mat-radio-group formControlName="cheese" class="flex flex-col mt-5">
                            <mat-radio-button *ngFor="let element of ingredients?.Cheese; let i = index" [value]="element" (change)="onRadioChange($event)" [checked]="
                  ingredients.Cheese[i].name?.length == selectedCheese?.length
                ">
                                <div class="flex space-y-3">
                                    <div class="image-container">
                                        <img class="w-2/3" src="{{ element.icon }}" />
                                    </div>
                                    <div class="flex flex-col">
                                        <div>
                                            <span class="text-md">{{ element.name }}</span>
                                        </div>
                                        <div>
                                            <span class="text-sm">{{ element.price }}€</span>
                                        </div>
                                    </div>
                                </div>
                            </mat-radio-button>
                        </mat-radio-group>
                    </ng-container>
                </mat-tab>
                <mat-tab label="Vegetables">
                    <div class="grid grid-cols-2 gap-10 mt-5 items-center">
                        <mat-selection-list #list>
                            <mat-list-option *ngFor="let element of ingredients?.Vegetables; let i = index" [selected]="element.selected" [value]="element" (click)="onVegetablesChange(list, i)">
                                <div class="flex flex-row items-center">
                                    <div class="image-container">
                                        <img class="w-2/3" src="{{ element.icon }}" />
                                    </div>
                                    <div class="flex flex-col">
                                        <div>
                                            <span class="text-md">{{ element.name }}</span>
                                        </div>
                                        <div>
                                            <span class="text-sm">{{ element.price }}€</span>
                                        </div>
                                    </div>
                                </div>
                            </mat-list-option>
                        </mat-selection-list>
                    </div>
                    <!-- <div formArrayName="vegetables" class="grid grid-cols-2 gap-10 mt-5 items-center">
                        <ng-container *ngFor="let element of ingredients?.Vegetables; let i = index">
                            <div class="flex items-center">
                                <mat-checkbox (change)="onVegetablesChange($event, i)" [formControlName]="i" [value]="element.name">
                                    <div class="flex flex-row items-center">
                                        <div class="image-container">
                                            <img class="w-2/3" src="{{ element.icon }}" />
                                        </div>
                                        <div class="flex flex-col">
                                            <div>
                                                <span class="text-md">{{ element.name }}</span>
                                            </div>
                                            <div>
                                                <span class="text-sm">{{ element.price }}€</span>
                                            </div>
                                        </div>
                                    </div>
                                </mat-checkbox>
                            </div>
                        </ng-container>
                    </div> -->
                </mat-tab>
                <mat-tab label="Meat">
                    <ng-container>
                        <mat-radio-group formControlName="meat" class="flex flex-col mt-5 space-y-3">
                            <mat-radio-button *ngFor="let element of ingredients?.Meat; let i = index" [value]="element" (change)="onRadioChange($event)" [checked]="ingredients.Meat[i].name == selectedMeat">
                                <div class="flex space-y-3">
                                    <div class="image-container">
                                        <img class="w-2/3" src="{{ element.icon }}" />
                                    </div>
                                    <div class="flex flex-col">
                                        <div>
                                            <span class="text-md">{{ element.name }}</span>
                                        </div>
                                        <div>
                                            <span class="text-sm">{{ element.price }}€</span>
                                        </div>
                                    </div>
                                </div>
                            </mat-radio-button>
                        </mat-radio-group>
                    </ng-container>
                </mat-tab>
                <!-- <mat-tab label="Sauce">Content 5</mat-tab> -->
            </mat-tab-group>
            <div [formGroup]="commentForm" class="mt-4">
                <mat-form-field class="example-full-width" appearance="fill">
                    <mat-label>Leave a comment</mat-label>
                    <textarea matInput placeholder="" formControlName="comment"></textarea>
                </mat-form-field>
            </div>

            <!-- <ng-container *ngIf="createMode || editMode">

                <mat-form-field>
                    <input matInput placeholder="Burger Description" formControlName="description" />
                </mat-form-field>

                <mat-form-field>
                    <input matInput placeholder="Burger Icon Url" formControlName="iconUrl" />
                </mat-form-field>
                <mat-form-field>
                    <mat-select placeholder="Select category" formControlName="category">
                        <mat-option value="SimpleBurger">
                            SimpleBurger
                        </mat-option>
                        <mat-option value="CheeseBurger">
                            CheeseBurger
                        </mat-option>
                        <mat-option value="DeluxeBurger">
                            DeluxeBurger
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </ng-container> -->
        </ng-container>
    </ng-container>
    <div class="chips-container mt-3">
        <mat-chip-list>
            <mat-chip *ngFor="let item of breadCheeseMeatChips; let i = index" [removable]="true" (removed)="onBreadCheeseMeatChipsRemoved(i)">
                {{ item }}
                <mat-icon matChipRemove>cancel</mat-icon>
            </mat-chip>
            <mat-chip *ngFor="let item of vegetableChips; let i = index" [removable]="true" (removed)="onVegetableChipsRemoved(i)">
                {{ item }}
                <mat-icon matChipRemove>cancel</mat-icon>
            </mat-chip>
        </mat-chip-list>
    </div>
</mat-dialog-content>
<div class="flex justify-end space-x-3 mt-20">
    <mat-dialog-actions>
        <button class="mr-3 w-28 inline-flex justify-center rounded-sm font-medium hover:bg-gray-300 bg-white border border-yellow-500 text-yellow-500 focus:outline-none items-center py-0.5 px-2" (click)="onClose()">
      Close
    </button>

        <button class="w-28 inline-flex justify-center rounded-sm hover:bg-gray-300 font-medium bg-yellow-500 text-white focus:outline-none items-center py-1 px-2" (click)="onSave()">
      Save
    </button>
    </mat-dialog-actions>
</div>